{% extends 'base_with_nav.html' %} {% load static %} {% block content %}

<link
  rel="stylesheet"
  type="text/css"
  href="{% static 'css/community/new_free.css'%}"
/>
<form action="{% url 'community:move-create' %}" method="POST" enctype="multipart/form-data">
  {% csrf_token %}
  <div class="screen">
    <div class="main">
      <div class="body">
        <div class="nav">
          <div class="left" style="z-index: 1;">
            <a href="{% url 'community:move-board' %}">
              <img src="{% static 'images/arrow-24.png' %}" width='32px' height='32px'>
            </a>
          </div>
          <div><p class="color_28 title_text" style="text-align: center;">ì»¤ë®¤ë‹ˆí‹° ì‘ì„±</p></div>
          <div style="width: 32px;"></div>
        </div>
        <div class="border1 row1">
          <p class="title_text2 color_00">ê²Œì‹œíŒ êµ¬ë¶„</p>
          <div class="row">
            <p class="select_move">ììœ ê²Œì‹œíŒ</p>
            <a href="{% url 'community:new-move' %}" class="select_move">ì´ì§ê²Œì‹œíŒ</a>
          </div>
        </div>
        <div class="border2">
            <div class="row2">
              <div class="color_17 title_text2">ì´ëª¨ì§€ì„ íƒ</div>
              <p class="color_DB">*</p>
            </div>
            <button class="btn_select" type="button" onclick="toggleEmojiDrawer()">
              <input style="font-size: 30px;" id="input" type="text" placeholder="ğŸ˜€" size="1" readonly>
            </button>
            <div id="drawer" class="emoji-drawer hidden">
              <div class="emoji" onclick="addEmoji(this.innerHTML)">ğŸ˜</div>
              <div class="emoji" onclick="addEmoji(this.innerHTML)">ğŸ˜‚</div>
              <div class="emoji" onclick="addEmoji(this.innerHTML)">ğŸ¤©</div>
              <div class="emoji" onclick="addEmoji(this.innerHTML)">ğŸ¤”</div>
              <div class="emoji" onclick="addEmoji(this.innerHTML)">ğŸ˜¥</div>
              <div class="emoji" onclick="addEmoji(this.innerHTML)">ğŸ˜´</div>
              <div class="emoji" onclick="addEmoji(this.innerHTML)">ğŸ« </div>
              <div class="emoji" onclick="addEmoji(this.innerHTML)">ğŸ¤‘</div>
              <div class="emoji" onclick="addEmoji(this.innerHTML)">ğŸ˜¤</div>
              <div class="emoji" onclick="addEmoji(this.innerHTML)">ğŸ˜­</div>
              <div class="emoji" onclick="addEmoji(this.innerHTML)">ğŸ¤¯</div>
              <div class="emoji" onclick="addEmoji(this.innerHTML)">ğŸ˜±</div>
              <div class="emoji" onclick="addEmoji(this.innerHTML)">ğŸ˜‡</div>
              <div class="emoji" onclick="addEmoji(this.innerHTML)">ğŸ‘€</div>
              <div class="emoji" onclick="addEmoji(this.innerHTML)">ğŸ™</div>
              <div class="emoji" onclick="addEmoji(this.innerHTML)">ğŸ’ª</div>
              <div class="emoji" onclick="addEmoji(this.innerHTML)">ğŸ‘</div>
              <div class="emoji" onclick="addEmoji(this.innerHTML)">ğŸ™Œ</div>
              <div class="emoji" onclick="addEmoji(this.innerHTML)">ğŸ‰</div>
              <div class="emoji" onclick="addEmoji(this.innerHTML)">âœ¨</div>
              <div class="emoji" onclick="addEmoji(this.innerHTML)">ğŸ“¢</div>
            </div>
            <input type="hidden" id="emoji" name="emoji"> <!-- ìˆ¨ê²¨ì§„ ì…ë ¥ í•„ë“œ -->
          </div>
          <div class="row2 mar">
            <div class="color_17 title_text2">ì œëª©</div>
            <p class="color_DB">*</p>
          </div>
          <input class="mar" type="text" name="title" placeholder="ì œëª©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”." required>
          <div class="row2 mar">
            <div class="color_17 title_text2">ë‚´ìš©</div>
            <p class="color_DB">*</p>
          </div>
          <textarea class="mar" id="content" name="content" placeholder="ë‚´ìš©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”." required></textarea>
          <div class="row2 mar">
            <div class="color_17 title_text2">íƒœê·¸</div>
            <p class="color_DB">*</p>
          </div>
          <input class='tag mar' type="text" name="mtcontent" placeholder="#íƒœê·¸" required/>

        </div>
        <button type="submit" class="btn_submit">ì‘ì„±ì™„ë£Œ</button>
      </div>
    </div>
  </div>
</form>  

<script>

function toggleEmojiDrawer() {
  var drawer = document.getElementById('drawer');
  drawer.classList.toggle('hidden');
}

function addEmoji(emoji) {
  var input = document.getElementById('input');
  var hiddenEmojiInput = document.getElementById('emoji');
  input.value = emoji;
  hiddenEmojiInput.value = emoji;
  toggleEmojiDrawer();
}

  function select_Emoji() {
    let drawer = document.getElementById('drawer');
  
    if (drawer.classList.contains('hidden')) {
      drawer.classList.remove('hidden');
    } else {
      drawer.classList.add('hidden');
    }
  }
  document.addEventListener("DOMContentLoaded", function() {
    let emojis = document.querySelectorAll('.emoji');
    emojis.forEach(emoji => {
      emoji.addEventListener('click', function() {
        addEmoji(emoji.innerHTML);
        document.getElementById('drawer').classList.add('hidden');
      });
    });

    document.getElementById('drawer').classList.add('hidden');
  });
</script>

{% endblock %}



<form action="{% url 'community:move-create' %}" method="POST" enctype="multipart/form-data">
  {% csrf_token %}
  <p>ì œëª© : <input type="text" name="title"></p>
  <p>ì‚¬ì§„ : <input type="file" name="image"></p>
  <p>ë‚´ìš© : <textarea id="content" name="content" required></textarea><br><br>
  <button type="submit">ì œì¶œ</button>
</form>