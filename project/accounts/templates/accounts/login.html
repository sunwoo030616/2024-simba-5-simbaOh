{% extends 'base.html' %} 
{% block content %} 
{% load static %}

<link
rel="stylesheet"
type="text/css"
href="{% static 'css/accounts/login.css'%}"
/>

<div class="container">
  <div class='container2'> 
    <div class='container-top'>

      <div class="small_nav">
        <div class="left">
          <a href="{% url 'main:first-screen' %}">
            <img src="{% static 'images/Mask group.png' %}" width="32px">
          </a>
        </div>
        <div class="right">
          <img src="{% static 'images/entypo_menu.png' %}" width="32px">
        </div>
      </div>
      
      {% comment %} <h2 class='signup-main'>로그인</h2> {% endcomment %}
      <form id="loginForm" action="{% url 'accounts:login' %}" method="post">
        {% csrf_token %}

        <div class='inputlist'>
            <div class='id'>
              <input class='same' placeholder="아이디를 입력해주세요." type='text' name='user_id' id='user_id' required />
            </div>

            <div class='id'>
              <input class='same' placeholder="비밀번호를 입력해주세요." type='password' name='user_pw' id='user_pw' required/>
            </div>
            <div class='auto'>
              <label  for='check'>
                <input type='checkbox' name='check_group' id='check' checked/>
                자동 로그인
              </label>
            </div>

            <button class='submit' type='submit' id='loginButton' disabled>로그인</button>

            <div class='search'> 
              <button class='submit3' type='button'>아이디 찾기</button>
              <button class='submit3' type='button'>비밀번호 찾기</button>
              <button class='submit3' type='button' id='signupButton'>회원가입</button>
            </div class='search'>

            <div class='midbar'>
                <div class='line'></div>
                <span class='hrtext'>소셜 계정 로그인</span>
                <div class='line'></div>
            </div>

            <img src="{% static 'images/image 38.png' %}" alt='google' width='50px'>
        </div>

      </form>
    </div>
  </div>
</div>

<script>
document.addEventListener("DOMContentLoaded", function() {
  const usernameInput = document.getElementById('user_id');
  const passwordInput = document.getElementById('user_pw');
  const loginButton = document.getElementById('loginButton');
  const signupButton = document.getElementById('signupButton');

  function validateLoginForm() {
    const usernameValid = usernameInput.value.trim() !== '';
    const passwordValid = passwordInput.value.trim() !== '';
    return usernameValid && passwordValid;
  }

  function updateLoginButton() {
    if (validateLoginForm()) {
      loginButton.disabled = false;
      loginButton.style.backgroundColor = "#1E3D46";
      loginButton.style.color = "#ffffff";
    } else {
      loginButton.disabled = true;
      loginButton.style.backgroundColor = "";
      loginButton.style.color = "";
    }
  }

  usernameInput.addEventListener('input', updateLoginButton);
  passwordInput.addEventListener('input', updateLoginButton);

  signupButton.addEventListener('click', function() {
    window.location.href = "{% url 'accounts:signup' %}";
  });
});
</script>


{% if error %}
<div style="color: red">{{ error }}</div>
{% endif %}
{% endblock %}